# MobyDig API

## `class MobyDig`
Uses: class Spi2Parallel

Create an object of type `MobyDig` to communicate with a particular [MobyDig 7-segment indicator modules](https://my.amperka.com/modules/mobydig).

### `MobyDig(uint8_t pinCS, uint8_t devicesCount = 1)`

Constructs a new object of data bus Hardware SPI with arguments:

- `pinCS`: pin Chip Select used for controls the shift-register latch. Any GPIO-pin can be used.
- `devicesCount`: quantity of `MobyDig` modules connected in one chain: logical output pin headers of one module to the inputs of another. If the `devicesCount` argument is omitted, it used only one module `MobyDig`.

### `MobyDig(uint8_t pinCS, uint8_t pinMOSI, uint8_t pinSCK, uint8_t devicesCount = 1)`

Constructs a new object of data bus Software SPI with arguments:

- `pinCS`: pin Chip Select used for controls the shift-register latch. Any GPIO-pin can be used.
- `pinMOSI`: pin for sending serial data to the peripherals. Any GPIO-pin can be used.
- `pinSCK`: pin the clock pulses which synchronize data transmission generated by the master. Any GPIO-pin can be used.
- `devicesCount`: quantity of MobyDig modules connected in one chain: logical output pin headers of one module to the inputs of another. If the `devicesCount` argument is omitted, it used only one `MobyDig` module.

Difference between Hardware and Software SPI is speed – with software SPI it will run much slower than hardware SPI, but Hardware SPI works only on specific pins: `MOSI`, `MISO`(not used in MobyDig) and `SCK`. Use Software SPI only when Hardware SPI pins are used by other devices.

### `void begin(char* resetValues = NULL)`

Initializes the given SPI interface, prepares the board for communication. Important, call this method at least once, in your `setup()`.

- `resetValues`: states of indicators by default as char 'c'-string. One byte for one 7-segment module. If `resetValues` argument is adjusted, then when start or calling method `reset()`, indicator modules sets value by `resetValues`. If `resetValues` argument is omitted — all indicators sets in `blank space` state.

### `void printf(const char* format, ...)`

Displays a 'c'-formatted string on a chain of `MobyDig` indicator modules. The format string syntax matches the standard C `printf` function.
The 7 segment indicator output supports digits, including floating-point, and limited support for English characters, with the exception of `K,M,N,V,W,X,Z`. Note that the display of letters on a 7-segment indicator does not always correspond to their generally accepted spelling.
Also supported are the characters: space, underscore, dot, minus, degree (at `^`). Unsupported characters are displayed as `blank space`.

### `void set(uint8_t device, uint8_t symbol)`

Display any maybe not ordinary symbol to the specified position.
- `device` - `MobyDig` device number in chain. Can be in range [0 : devicesCount-1].
- `symbol` - any symbol: one bit = one indicator segment. 0 - a, 1 - b ... 7 - h(dot).

### `void reset()`

Resets values all power switchers of all devices to default state.

- If `resetValues` argument in constructs `MobyDig` is adjusted, indicator modules sets value by `resetValues`.
- If `resetValues` argument is omitted — all indicators sets in `blank space`.
